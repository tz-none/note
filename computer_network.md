# 计算机网络

## 第1章 引言

定义：大量相互独立但彼此连接的计算机共同完成计算任务，这些系统称为计算机网络（computer network）

计算机网络和分布式系统（建立在网络之上的软件系统）的区别在于软件（特别是操作系统）

- [ ] 网络定义（两个功能）
- [ ] 网络分类
- [ ] 结构

### 计算机网络的应用

- 商业应用
  - 资源共享
  - 通信介质
  - 电子商务
  - 客户机-服务器模型
- 家庭应用
  - 远程访问信息
  - 通信
  - 广义电子商务
  - 娱乐
  - 普适计算
- 移动用户
  - 无线应用
  - 智能手机
  - 传感器网络
- 社会问题
  - 网络中立
  - 数字千年版权法案
  - 个人信息
  - 网络安全

### 网络硬件

传输技术：广播式链路和点到点链路；

点到点链路：将一对单独的机器连接起来，只有一个发送方和一个接受方时也称为单播。（PS：数据包、路由概念）

广播室链路：通信信道被网络上的所有机器共享，传输模式有广播和组播。

网络尺度：个域网、局域网、城域网、广域网、互联网。

- 个域网：围绕个人进行通信
  - 技术：蓝牙
  - 需解决问题：主从设备之间如何解决信道分配、相互通信的
- 局域网：一种私有网络
  - 技术：802.11.WiFi、以太网
- 城域网：覆盖一个城市
  - 例子：有线电视网
- 广域网：可以跨越很大的地理区域
  - 组成：主机和子网
  - 和局域网区别：主机和子网由不的人经营；路由器通常连接不同的网络技术；子网可连接单个计算机或者整个局域网。
- 互联网：一组相互连接的网络

### 网络软件

网络协议：同等实体间通信制定的有关通信规则约定的集合；包括三要素：语义（讲什么）、语法（如何将）、定时（执行顺序）。

层次：每一层建立在其下一层的基础之上，下层通过接口为上层提供服务。不同机器上构成相应层次的实体成为对等实体。

层和协议的集合成为网络体系结构。

- 层次设计问题
  - 可靠性
    - 检错和纠错（发现错误）
    - 路由（找通过网络的工作路径）
  - 可扩展
  - 资源分配
    - 带宽分配
    - 流量控制
    - 服务质量（吞吐量、延时）
  - 安全性
    - 保密性
    - 认证
    - 完整性

### OSI参考模型

端到端协议（主机）和通信子网协议（）

- 物理层（数据传输）
- 数据链路层
  - 数据成帧
  - 差错控制
  - 流量控制
- 网络层
  - 服务（面向连接服务、无连接）
  - 路由
  - 拥塞控制
  - 协议
- 传输层
  - 端到端（主机-主机）
  - 差错控制
  - 流量控制
- 会话层（会话控制）
- 表示层
  - 编码
  - 压缩
- 应用层

### TCP/IP参考模型

- 网络接口层(对应物理层、数据链路层)
  - 协议：DSL、SONET、802.11、Ethernet
- 网络层
  - 协议：IP、ICMP
- 传输层
  - 协议：TCP、UDP
- 应用层
  - 协议：HTTP、SMTP、RTP、DNS

### OSI和TCP/IP参考模型比较

相似：基于独立的协议栈概念、层的功能大体相似。

- 差别
  - 模型：OSI的模型有服务、接口、协议3个主要概念，具有更好的隐藏性，技术发生变化是能相对容易地进行替换；TCP/IP没有明确区分服务、接口和协议。
  - 层数：OSI模型7层；TCP/IP结构4层
  - 服务：OSI支持无连接和面向连接的通信、传输层仅有面向连接的通信；TCP/IP结构的网络层仅有无连接通信，传输层支持两种模式。

OSI缺陷：过于复杂、实现笨拙、效率慢。

TCP/IP缺陷：没有明确区分服务、接口和协议；不通用；层次划分不明确；没有物理层与数据链路层；

### 网络标准化

- ITU：国际电信联盟（ITU-T、ITU-R、ITU-D）
- ISO IEEE
- IETF W3C

## 第2章 物理层

### 概述

4个基本特性：

- 机械特性（物理设备的相关规定）
- 电气特性（数据交换信号和有关电路的特性）
- 功能特性（）
- 规程特性（通信协议）

物理层协议类型

- 点-点
- 广播
- 基于点-点
  - EIA232、调至解调器
- 基于广播
  - 早期的同轴电缆、10BASE-T

单工、半双工与全双工通信

### 数字通信理论基础

- 模拟通信——传输模拟信号
  - 中途去噪放大（滤波器+放大器），无法彻底去除噪声，在后续传播途径中噪声会累积。
- 数字通信——数字信号
  - 中途去噪再生（再生器），恢复0或1原形，无噪声累计。

模拟到数字（A->D）：采样、量化、编码；

带宽：传输过程中振幅不会明显减弱的一段频率范围（电器工程师），数据传输（计算机科学家）。

信道容量 C=2Hlog2V, C=Hlog2(1+S/N)

带宽 fb-fa

波特率 D=1/T

信息传输速率 S=Blog2V

A->A：信号的叠加()

数字调制：D->D/D->A

- 基带传输：以太网基础、高速网络基础
- 编码：
  - 1.见变就跳（下一比特是1时），无时钟信号（需使用外同步）
  - 2.所有跳变在时钟中央（自同步），0从高往低跳变，1从低往高跳变
  - 3.时钟和信号分开（时钟中央跳变），0跳变，1不跳变

模拟信号三种参数：振幅、频率、相位。

- 调幅：1传0不传
- 调频：1慢0快
- 调相：

### 信道复用技术

将多路信号合并在同一信道上而互不影响，同时在接收端彼此分离开来。

- FDMA频分多路复用（有防护频带）：信道逻辑划分为n个较小带宽的子信道
- OFDM正交频分复用技术：江心岛分成若干正交子信道，将高数数据信号转换成并行的……
- TFDM时分多路复用：分成若干时间片，一个时间片中独占一个信道。
  - 同步：每个终端的时间片固定。
  - 异步：允许动态的按需分配时间片，需要发送数据的中断必须提出申请才能获得所需的时间片。
- CDMA码分多路复用：所有站同一时间可以使用整个信道，通过码型区分各路信号。
  - 每个比特时间分成m个码片(m=64/128)
  - 每个站有唯一的m比特码序列
  - 发送“1”时，发送码序列；发送“0”时，发送码序列的补码
- 波分多路复用WDMA：将信道的带宽分为多个波段
  - 每个子信道分为控制信道和数据信道

### 传输介质

通信中实际传送信息的载体

- 介质性质：带宽、吞吐量、传输延迟、尺寸、可扩展性以及成本和安装维护费用
- 有线介质
  - 双绞线：8线4芯，防止串扰
    - 屏蔽（STP）和非屏蔽（UTP）
    - 连接方式：1对1（不同设备之间），交叉线（同种设备之间链接）
  - 同轴电缆
    - 基带同轴电缆：数字
    - 宽带同轴电缆：数字+模拟
  - 光纤电缆
    - 单向传输
    - 单模：光线直线传输
    - 多模：通过反射
      - 多模渐变：角度比较缓
      - 多模突变：角度锐利、损耗较大
  - 介质选择：网络拓扑结构、容量、可靠性、支持的数据特性、环境的影响
- 无线介质
  - 无线电传输：容易产生、距离长
    - 低频：衍射性好、任意方向、衰减快
    - 高频：走直线、受雨影响、用户间存在干扰
  - 微波传输
    - 100MHZ以上频段沿直线传播
    - 极高信噪比
    - 方向性要求高
    - 易被雨水吸收
    - 带宽大
    - 频率越高、可同时传送的信息量越大
  - 红外线
  - 光波传输

### 交换技术

网络中信息传输的方式

- 电路交换：使用实际物理链路，不共享
  - 过程：建立电路连接、传输数据、电路拆除（有应答、无应答）
- 报文交换：又称包交换
  - 每个结点可以进行存储和转发
- 分组交换
  - 将传输数据进行分组
  - 不同分组的路径可能不一样
  - 到达目的的结点的顺序可能不同：到达后会进行重新排序

> 报文交换和分组交换共同优点：电路利用率高（但是传输延迟会增加）

